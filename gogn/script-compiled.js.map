{"version":3,"sources":["script.js"],"names":[],"mappings":"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","file":"script-compiled.js","sourcesContent":["class Videos {\r\n  load() {\r\n    $.getJSON('videos.json', (json) => {\r\n      this.json = json;\r\n      this.done();\r\n    });\r\n  }\r\n\r\n  createCategoryElements() {\r\n    for (let i = 0; i < this.json.categories.length; i += 1) {\r\n      $('main')\r\n        .append($(`<section id=\"${this.json.categories[i].id}\">`)\r\n          .append($('<div class=\"row\">')\r\n            .append($('<div class=\"col col-12\">')\r\n              .append($('<h1 class=\"heading heading--category\">')\r\n                .text(this.json.categories[i].title))))\r\n          .append(this.createPosterElements(i)))\r\n        .append('<hr>');\r\n    }\r\n  }\r\n\r\n  done() {\r\n    this.createCategoryElements();\r\n  }\r\n\r\n  createPosterElements(id) {\r\n    const container = $('<div class=\"row\">');\r\n    const c = this.json.categories[id].videos;\r\n\r\n    for (let i = 0; i < this.json.categories[id].videos.length; i += 1) {\r\n      container.append(this.createPosterElement(this.json.videos[c[i] - 1]));\r\n    }\r\n    return container;\r\n  }\r\n\r\n  createPosterElement(video) {\r\n    const container = $('<figure class=\"col col-4 col-sm-6 col-sm-sm-12\">');\r\n\r\n    const thumbnail = $(`<a href=\"video.html?id=${video.id}\">`);\r\n\r\n    const img = $(`<img src=\"${video.poster}\">`);\r\n\r\n    const span = $('<span>');\r\n\r\n    // Sýna lengdina á myndbandi\r\n    let d = video.duration;\r\n    const sec = d % 60 < 10 ? `0${d % 60}` : d % 60;\r\n    d = `${Math.floor(d / 60)}:${sec}`;\r\n\r\n    span.text(d);\r\n    thumbnail.append(img).append(span);\r\n\r\n    const caption = $('<figcaption>').text(video.title);\r\n\r\n    const p = $('<p>');\r\n\r\n    const now = new Date();\r\n    const created = new Date(video.created);\r\n    const millisec = now.getTime() - created.getTime();\r\n\r\n    const totalSecs = Math.ceil(millisec / 1000);\r\n\r\n    const totalHrs = Math.floor(totalSecs / (60 * 60));\r\n\r\n    const days = Math.floor(totalHrs / 24);\r\n\r\n    let duration;\r\n\r\n    if (days > 365) {\r\n      duration = `Fyrir ${Math.floor(days / 365)} ${Math.floor(days / 365) === 1 ? 'ári' : 'árum'} síðan`;\r\n    } else if (days > 30) {\r\n      duration = `Fyrir ${Math.floor(days / 30)} ${Math.floor(days / 30) === 1 ? 'mánuði' : 'mánuðum'} síðan`;\r\n    } else if (days > 7) {\r\n      duration = `Fyrir ${Math.floor(days / 7)} ${Math.floor(days / 7) === 1 ? 'viku' : 'vikum'} síðan`;\r\n    } else if (totalHrs > 24){\r\n      duration = `Fyrir ${days} ${days === 1 ? 'degi' : 'dögum'} síðan`;\r\n    } else {\r\n      duration = `Fyrir ${totalHrs} ${totalHrs === 1 ? 'klukkutíma' : 'klukkutímum'} síðan`;\r\n    }\r\n\r\n    p.text(duration);\r\n\r\n    container.append(thumbnail);\r\n    container.append(caption);\r\n    container.append(p);\r\n\r\n    return container;\r\n  }\r\n}\r\n\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n  const videos = new Videos();\r\n  videos.load();\r\n});\r\n"]}