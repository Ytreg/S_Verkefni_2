{"version":3,"sources":["script.js"],"names":[],"mappings":"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","file":"script-compiled.js","sourcesContent":["/**\n * Niðurteljari!\n */\nclass Countdown {\n  /**\n   * Finnur container fyrir niðurteljara og form.\n   * Bindur submit eventhandler við form.\n   */\n  constructor() {\n    /*\n    this.keyName = 'countdown';\n    this.container = document.querySelector('.countdown');\n    this.form = document.querySelector('form');\n\n    // til þess að submit hafi þennan klasa sem \"this\" verðum við\n    // að nota bind hér (og í öðrum föllum sem við bindum!)\n    this.form.addEventListener('submit', this.submit.bind(this));\n    */\n  }\n\n  /**\n   * Sækir gögn úr localStorage eftir this.keyName\n   * Ef gögn eru til, hleður þeim inn með því að kalla í this.create()\n   */\n  load() {\n    /*\n    const saved = window.localStorage.getItem(this.keyName);\n\n    if (saved) {\n      const parsed = JSON.parse(saved);\n      this.create(parsed.title, new Date(parsed.date));\n    }\n    */\n    this.headings = document.querySelectorAll('.heading--category');\n\n    $.getJSON(\"videos.json\", json => {\n      this.json = json;\n      console.log(this.json);\n      this.done();\n    });\n  }\n\n\n  done() {\n    for (var i = 0; i < this.headings.length; i++) {\n      this.headings[i].innerText = this.json.categories[i].title;\n    }\n    const newVideos = document.querySelector('#new-videos');\n    const tutoringVideos = document.querySelector('#tutoring-videos');\n    const entertainmentVideos = document.querySelector('#entertainment-videos');\n\n    const cNewVideosId = this.json.categories[0].videos;\n    const cTutoringVideosId = this.json.categories[1].videos;\n    const cEntertainmentVideosId = this.json.categories[2].videos;\n\n    for (var i = 0; i < this.json.categories[0].videos.length; i++) {\n      newVideos.appendChild(this.createVideoElement(this.json.videos[cNewVideosId[i] - 1]));\n    }\n    for (var i = 0; i < this.json.categories[1].videos.length; i++) {\n      tutoringVideos.appendChild(this.createVideoElement(this.json.videos[cTutoringVideosId[i] - 1]));\n    }\n    for (var i = 0; i < this.json.categories[2].videos.length; i++) {\n      entertainmentVideos.appendChild(this.createVideoElement(this.json.videos[cEntertainmentVideosId[i] - 1]));\n    }\n  }\n\n  createVideoElement(video) {\n    const container = document.createElement('figure');\n    container.setAttribute('class', 'col');\n    container.classList.add('col-4');\n\n    const img = document.createElement('img');\n    img.src = video.poster;\n\n    const caption = document.createElement('figcaption');\n    caption.appendChild(document.createTextNode(video.title));\n\n    const p = document.createElement('p');\n    const now = new Date();\n    let time = new Date(new Date(video.created) - now);\n    let time1 = now - new Date(video.created);\n    console.log(now, new Date(video.created));\n    console.log(time1);\n    if (time.getFullYear() > 0) time = `Fyrir ${time.getFullYear()} árum síðan`;\n    else if (time.getMonth() > 0) time = `Fyrir ${time.getMonth()} mánuðum síðan`;\n    else if (time.get() > 0) time = `Fyrir ${time.getMonth()} mánuðum síðan`;\n\n    else if (time.getDay() > 0) {\n      if (time.getDay() >= 7) {\n        time = `Fyrir ${Math.floor(time.getDay() / 7)} vikum síðan`;\n      } else {\n        time = `Fyrir ${time.getDay()} dögum síðan`;\n      }\n    }\n    else if (time.getHours() > 0) time = `Fyrir ${time.getHours()} klukkutímum síðan`;\n    else time = `Fyrir ${time.getMinutes()} mínútum síðan`;\n    p.appendChild(document.createTextNode(time));\n\n    container.appendChild(img);\n    container.appendChild(caption);\n    container.appendChild(p);\n\n    return container;\n  }\n  /**\n   * Tekur við title sem streng og date sem Date hlut\n   * Vistar sem json gögn í localStorage undir this.keyName\n   */\n   /*\n  save(title, date) {\n    const data = { title, date };\n    const json = JSON.stringify(data);\n    window.localStorage.setItem(this.keyName, json);\n  }\n*/\n\n  /**\n   * Tekur við:\n   *  - date sem streng á forminu \"yyyy-mm-dd\", t.d. \"2017-11-06\"\n   *  - time sem streng á forminu \"hh:mm\", t.d. \"09:00\"\n   * Skilar date hlut með gögnum úr date og time\n   */\n   /*\n  parseDate(date, time) {\n    return new Date(`${date} ${time}`);\n  }\n  */\n\n}\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  const countdown = new Countdown();\n  countdown.load();\n\n});\n"]}