{"version":3,"sources":["script.js"],"names":[],"mappings":"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","file":"script-compiled.js","sourcesContent":["/**\r\n * Niðurteljari!\r\n */\r\nclass Countdown {\r\n  /**\r\n   * Finnur container fyrir niðurteljara og form.\r\n   * Bindur submit eventhandler við form.\r\n   */\r\n  constructor() {\r\n    /*\r\n    this.keyName = 'countdown';\r\n    this.container = document.querySelector('.countdown');\r\n    this.form = document.querySelector('form');\r\n\r\n    // til þess að submit hafi þennan klasa sem \"this\" verðum við\r\n    // að nota bind hér (og í öðrum föllum sem við bindum!)\r\n    this.form.addEventListener('submit', this.submit.bind(this));\r\n    */\r\n  }\r\n\r\n  /**\r\n   * Sækir gögn úr localStorage eftir this.keyName\r\n   * Ef gögn eru til, hleður þeim inn með því að kalla í this.create()\r\n   */\r\n  load() {\r\n    /*\r\n    const saved = window.localStorage.getItem(this.keyName);\r\n\r\n    if (saved) {\r\n      const parsed = JSON.parse(saved);\r\n      this.create(parsed.title, new Date(parsed.date));\r\n    }\r\n    */\r\n    this.headings = document.querySelectorAll('.heading--category');\r\n\r\n    $.getJSON(\"videos.json\", json => {\r\n      this.json = json;\r\n      console.log(this.json);\r\n      this.done();\r\n    });\r\n  }\r\n\r\n\r\n  done() {\r\n    for (var i = 0; i < this.headings.length; i++) {\r\n      this.headings[i].innerText = this.json.categories[i].title;\r\n    }\r\n    const newVideos = document.querySelector('#new-videos');\r\n    const tutoringVideos = document.querySelector('#tutoring-videos');\r\n    const entertainmentVideos = document.querySelector('#entertainment-videos');\r\n\r\n    const cNewVideosId = this.json.categories[0].videos;\r\n    const cTutoringVideosId = this.json.categories[1].videos;\r\n    const cEntertainmentVideosId = this.json.categories[2].videos;\r\n\r\n    for (var i = 0; i < this.json.categories[0].videos.length; i++) {\r\n      newVideos.appendChild(this.createVideoElement(this.json.videos[cNewVideosId[i] - 1]));\r\n    }\r\n    for (var i = 0; i < this.json.categories[1].videos.length; i++) {\r\n      tutoringVideos.appendChild(this.createVideoElement(this.json.videos[cTutoringVideosId[i] - 1]));\r\n    }\r\n    for (var i = 0; i < this.json.categories[2].videos.length; i++) {\r\n      entertainmentVideos.appendChild(this.createVideoElement(this.json.videos[cEntertainmentVideosId[i] - 1]));\r\n    }\r\n  }\r\n\r\n  createVideoElement(video) {\r\n    const container = document.createElement('figure');\r\n    container.setAttribute('class', 'col');\r\n    container.classList.add('col-4');\r\n    container.classList.add('col-sm-6');\r\n    container.classList.add('col-sm-sm-12');\r\n\r\n    const img = document.createElement('img');\r\n    img.src = video.poster;\r\n\r\n    const caption = document.createElement('figcaption');\r\n    caption.appendChild(document.createTextNode(video.title));\r\n\r\n    const p = document.createElement('p');\r\n    const now = new Date();\r\n    let time = new Date(new Date(video.created) - now);\r\n    let time1 = now - new Date(video.created);\r\n    console.log(now, new Date(video.created));\r\n    console.log(time1);\r\n    if (time.getFullYear() > 0) time = `Fyrir ${time.getFullYear()} árum síðan`;\r\n    else if (time.getMonth() > 0) time = `Fyrir ${time.getMonth()} mánuðum síðan`;\r\n    else if (time.get() > 0) time = `Fyrir ${time.getMonth()} mánuðum síðan`;\r\n\r\n    else if (time.getDay() > 0) {\r\n      if (time.getDay() >= 7) {\r\n        time = `Fyrir ${Math.floor(time.getDay() / 7)} vikum síðan`;\r\n      } else {\r\n        time = `Fyrir ${time.getDay()} dögum síðan`;\r\n      }\r\n    }\r\n    else if (time.getHours() > 0) time = `Fyrir ${time.getHours()} klukkutímum síðan`;\r\n    else time = `Fyrir ${time.getMinutes()} mínútum síðan`;\r\n    p.appendChild(document.createTextNode(time));\r\n\r\n    container.appendChild(img);\r\n    container.appendChild(caption);\r\n    container.appendChild(p);\r\n\r\n    return container;\r\n  }\r\n  /**\r\n   * Tekur við title sem streng og date sem Date hlut\r\n   * Vistar sem json gögn í localStorage undir this.keyName\r\n   */\r\n   /*\r\n  save(title, date) {\r\n    const data = { title, date };\r\n    const json = JSON.stringify(data);\r\n    window.localStorage.setItem(this.keyName, json);\r\n  }\r\n*/\r\n\r\n  /**\r\n   * Tekur við:\r\n   *  - date sem streng á forminu \"yyyy-mm-dd\", t.d. \"2017-11-06\"\r\n   *  - time sem streng á forminu \"hh:mm\", t.d. \"09:00\"\r\n   * Skilar date hlut með gögnum úr date og time\r\n   */\r\n   /*\r\n  parseDate(date, time) {\r\n    return new Date(`${date} ${time}`);\r\n  }\r\n  */\r\n\r\n}\r\n\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n  const countdown = new Countdown();\r\n  countdown.load();\r\n\r\n});\r\n"]}